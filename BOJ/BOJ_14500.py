# BOJ_14500 테트로미노
import sys
input = sys.stdin.readline

N,M = map(int,input().split())
lst = [list(map(int,input().split())) for _ in range(N)]
dic = [
    [(0,0),(0,1),(0,2),(0,3)], # 긴 막대기 눕혀서
    [(0,0),(1,0),(2,0),(3,0)], # 긴 막대기 세워서
    [(0,0),(1,0),(0,1),(1,1)], # 정 사각형
    [(0,0),(1,0),(2,0),(2,1)], # L
    [(0,0),(0,1),(0,2),(1,0)], # L 2
    [(0,0),(0,1),(1,1),(2,1)], # L 3
    [(0,0),(0,1),(0,2),(1,2)], # L 4
    [(0,0),(1,0),(1,1),(2,1)], # z 1
    [(0,0),(0,1),(1,0),(1,-1)], # z 2
    [(0,0),(0,1),(0,2),(-1,1)], # ㅗ 1
    [(0,0),(1,0),(2,0),(1,1)], # ㅗ 2
    [(0,0),(0,1),(0,2),(1,1)], # ㅗ 3
    [(0,0),(1,0),(2,0),(1,-1)], # ㅗ 4
    [(0,0),(1,0),(1,-1),(2,-1)], # z 3
    [(0,0),(0,1),(1,1),(1,2)], # z 4
    [(0,0),(0,1),(-1,1),(-2,1)],
    [(0,0),(1,0),(1,1),(1,2)],
    [(0,0),(0,1),(1,0),(2,0)],
    [(0,0),(0,1),(0,2),(-1,2)]
]

maximum = 0
for i in range(N):
    for j in range(M):
        for delta in dic:
            cnt = 0
            for dt in delta:
                x,y = i+dt[0],j+dt[1]
                if 0<=x<N and 0<=y<M:
                    cnt += lst[x][y]
                else:
                    cnt = 0
                    break
            if maximum < cnt:
                maximum = cnt

print(maximum)





