# swea 2382 미생물 격리

for tc in range(1,int(input())+1):
    N, M, K = map(int,input().split())
    lst = [list(map(int,input().split())) for _ in range(K)]

    # 0, N+1 이 경계

    while M:
        for idx in range(len(lst)):















